<div class="container knn-container">
  <h2>Amigos Más Cercanos</h2>

  <!-- Formulario para buscar por nombre o apellido -->
  <div class="mb-3">
    <label for="nombreApellido" class="form-label">Nombre o Apellido del Cliente:</label>
    <input type="text" class="form-control" id="nombreApellido" [(ngModel)]="nombreApellido" name="nombreApellido"
      (input)="buscarCliente()">
  </div>

  <!-- Lista desplegable con resultados de búsqueda -->
  <div class="mb-3" *ngIf="resultadosBusqueda.length > 0">
    <label for="clienteSeleccionado" class="form-label">Seleccione un Cliente:</label>
    <select class="form-select" [(ngModel)]="clienteSeleccionado" name="clienteSeleccionado">
      <option *ngFor="let cliente of resultadosBusqueda" [ngValue]="cliente">
        {{ cliente.nombre }} {{ cliente.apellido }}
      </option>
    </select>
  </div>

  <!-- Formulario para enviar la solicitud de KNN -->
  <form (ngSubmit)="onSubmit()" class="knn-form">
    <div class="mb-3">
      <label for="kValue" class="form-label">Valor de K:</label>
      <input type="number" class="form-control" id="kValue" [(ngModel)]="kValue" name="kValue" required>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!clienteSeleccionado">Obtener Recomendaciones</button>
  </form>

  <!-- Resultados de las recomendaciones KNN -->
  <div *ngIf="recomendaciones" class="resultados-container">
    <h3>Recomendaciones:</h3>
    <ul class="lista-recomendaciones">
      <li *ngFor="let recomendacion of recomendaciones">
        Cliente ID: {{ recomendacion.clienteId }}, Distancia: {{ recomendacion.distancia | number:'1.2-2' }}
      </li>
    </ul>
  </div>
</div>
